---
title: 长列表性能优化
date: 2021-12-28
categories:
 -  react
---

### 概述

- 场景:展示大型列表和表格数据,会导致页面卡顿,滚动不畅等性能问题.
- 产生性能问题的原因:大量 DOM 节点的重绘和重排.
- 其他原因:老旧设备.
- 其他设备:移动设备耗电快,影响移动设备电池寿命.
- 优化方案:
  - 懒渲染
  - 可视区域渲染

##### 懒渲染

- 常见的长列表优化方案,常见于移动端.

- 原理:每次只渲染一部分(如 10 条数据),等渲染的数据即将滚动完成时,再渲染下面部分.

- 优点:每次渲染一部分数据,速度快.

- 缺点:数据量大时,页面中依然存在大量 DOM 节点,占用内存多,降低浏览器渲染性能,导致页面卡顿.
- 使用场景:数据量不大的情况(比如 1000 条,具体还要看每条数据的复杂成都).

##### 可视区域渲染

- 原理:只渲染页面可视区域的列表项,非可视区域的数据 "完全不渲染", 在滚动列表时动态更新列表项.
- 使用场景:一次性展示大量数据的情况(比如:大表格、微博、聊天应用等).

